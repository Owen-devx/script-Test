--[[
Ainlock à¹‚à¸‡à¹ˆà¹† à¸à¸²à¸à¹†  For Pc
à¸¡à¸·à¸­à¸–à¸·à¸­ à¸‚.à¸ à¸—à¸³à¸›à¹ˆà¸¸à¸¡
à¹€à¸›à¸´à¸” ui à¹ƒà¸Šà¹‰ Alt+L à¸à¸” Altà¹à¸¥à¸°L à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸™
loadstring(game:HttpGet("https://raw.githubusercontent.com/Owen-devx/script-Test/refs/heads/main/AimLock"))()
]]--



local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera
local mouse = player:GetMouse()

-- Settings
local isAimlockEnabled = false
local fovSize = 100
local showFovCircle = false
local targetPart = "Head"
local aimSpeed = 0.15
local checkWalls = false
local checkTeam = false
local yOffset = 60
local rainbowFOVEnabled = false
local rainbowTextEnabled = false
local rainbowHue = 0

-- ESP Settings
local espEnabled = false
local espColor = Color3.fromRGB(255, 50, 50)   -- à¸ªà¸µà¹à¸”à¸‡à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™
local showHealth = true
local showDistance = true
local showName = true

-- Connections
local fovConnection, aimlockConnection, espConnection = nil, nil, nil
local fovCircle, fovGui = nil, nil

-- GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game:GetService("CoreGui")
screenGui.Name = "AimlockMenu"
screenGui.DisplayOrder = 10
screenGui.ResetOnSpawn = false
screenGui.Enabled = false

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 220, 0, 520)
frame.Position = UDim2.new(0.05, 0, 0.05, 0)
frame.BackgroundColor3 = Color3.fromRGB(50,50,50)
frame.BackgroundTransparency = 0.3
frame.BorderSizePixel = 0
frame.Parent = screenGui

local function createLabel(text, posY)
    local lbl = Instance.new("TextLabel")
    lbl.Size = UDim2.new(0, 200, 0, 20)
    lbl.Position = UDim2.new(0, 10, 0, posY)
    lbl.BackgroundTransparency = 1
    lbl.TextColor3 = Color3.fromRGB(255,255,255)
    lbl.Text = text
    lbl.Font = Enum.Font.SourceSans
    lbl.TextSize = 14
    lbl.TextXAlignment = Enum.TextXAlignment.Left
    lbl.Parent = frame
    return lbl
end

local function createButton(text, posY)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 200, 0, 30)
    btn.Position = UDim2.new(0, 10, 0, posY)
    btn.BackgroundColor3 = Color3.fromRGB(100,100,100)
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Text = text
    btn.Font = Enum.Font.SourceSans
    btn.TextSize = 16
    btn.Parent = frame
    return btn
end

-- Title
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(0, 200, 0, 30)
titleLabel.Position = UDim2.new(0, 10, 0, 10)
titleLabel.BackgroundTransparency = 1
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Text = "Aimlock + ESP Menu"
titleLabel.Font = Enum.Font.SourceSansBold
titleLabel.TextSize = 18
titleLabel.Parent = frame

-- Buttons & Labels (Aimlock section)
local toggleAimlockButton = createButton("Enable Aimlock", 50)
local fovLabel = createLabel("FOV Size: " .. fovSize, 90)
local fovSlider = Instance.new("TextButton")
fovSlider.Size = UDim2.new(0,200,0,20)
fovSlider.Position = UDim2.new(0,10,0,110)
fovSlider.BackgroundColor3 = Color3.fromRGB(100,100,100)
fovSlider.Text = ""
fovSlider.Parent = frame

local fovSliderIndicator = Instance.new("Frame")
fovSliderIndicator.Size = UDim2.new(fovSize/200,0,1,0)
fovSliderIndicator.BackgroundColor3 = Color3.fromRGB(180,180,180)
fovSliderIndicator.BorderSizePixel = 0
fovSliderIndicator.Parent = fovSlider

local aimSpeedLabel = createLabel("Aim Speed: " .. aimSpeed, 140)
local aimSpeedSlider = Instance.new("TextButton")
aimSpeedSlider.Size = UDim2.new(0,200,0,20)
aimSpeedSlider.Position = UDim2.new(0,10,0,160)
aimSpeedSlider.BackgroundColor3 = Color3.fromRGB(100,100,100)
aimSpeedSlider.Text = ""
aimSpeedSlider.Parent = frame

local aimSpeedSliderIndicator = Instance.new("Frame")
aimSpeedSliderIndicator.Size = UDim2.new((aimSpeed-0.1)/0.9,0,1,0)
aimSpeedSliderIndicator.BackgroundColor3 = Color3.fromRGB(180,180,180)
aimSpeedSliderIndicator.BorderSizePixel = 0
aimSpeedSliderIndicator.Parent = aimSpeedSlider

local toggleFovButton = createButton("Show FOV Circle: Off", 190)
local toggleWallCheckButton = createButton("Wall Check: Off", 230)
local toggleTeamCheckButton = createButton("Team Check: Off", 270)
local targetLabel = createLabel("Target Part: " .. targetPart, 310)

local targetDropdownButton = Instance.new("TextButton")
targetDropdownButton.Size = UDim2.new(0,200,0,25)
targetDropdownButton.Position = UDim2.new(0,10,0,335)
targetDropdownButton.BackgroundColor3 = Color3.fromRGB(100,100,100)
targetDropdownButton.TextColor3 = Color3.fromRGB(255,255,255)
targetDropdownButton.Text = "â–¼  Select Part"
targetDropdownButton.Parent = frame

-- Rainbow
local toggleRainbowFOVButton = createButton("Rainbow FOV: Off", 370)
local toggleRainbowTextButton = createButton("Rainbow Text: Off", 410)

-- ESP Section
createLabel("â”€â”€â”€â”€â”€â”€â”€â”€ ESP Settings â”€â”€â”€â”€â”€â”€â”€â”€", 445)
local toggleESPButton = createButton("Enable ESP: Off", 465)

-- Dropdown options
local dropdownOptions = {"Head", "UpperTorso", "HumanoidRootPart", "LowerTorso", "LeftUpperArm", "RightUpperArm", "LeftLowerArm", "RightLowerArm", "LeftUpperLeg", "RightUpperLeg", "LeftLowerLeg", "RightLowerLeg"}
local dropdownFrame = nil

-- Dragging GUI
local isDragging = false
local dragStart, startPos
titleLabel.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDragging = true
        dragStart = input.Position
        startPos = frame.Position
    end
end)
titleLabel.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDragging = false
    end
end)
UserInputService.InputChanged:Connect(function(input)
    if isDragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        frame.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
    end
end)

-- Target Part Dropdown
targetDropdownButton.MouseButton1Click:Connect(function()
    if dropdownFrame then dropdownFrame:Destroy() dropdownFrame = nil return end
    dropdownFrame = Instance.new("Frame")
    dropdownFrame.Size = UDim2.new(0,200,0,#dropdownOptions*25)
    dropdownFrame.Position = UDim2.new(0,10,0,360)
    dropdownFrame.BackgroundColor3 = Color3.fromRGB(80,80,80)
    dropdownFrame.BorderSizePixel = 0
    dropdownFrame.Parent = frame

    for i, opt in ipairs(dropdownOptions) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1,0,0,25)
        btn.Position = UDim2.new(0,0,0,(i-1)*25)
        btn.BackgroundColor3 = Color3.fromRGB(100,100,100)
        btn.TextColor3 = Color3.fromRGB(255,255,255)
        btn.Text = opt
        btn.Font = Enum.Font.SourceSans
        btn.TextSize = 14
        btn.Parent = dropdownFrame
        btn.MouseButton1Click:Connect(function()
            targetPart = opt
            targetLabel.Text = "Target Part: " .. targetPart
            dropdownFrame:Destroy()
            dropdownFrame = nil
        end)
    end
end)

-- FOV Circle
local function createFovCircle()
    if fovGui then fovGui:Destroy() end
    fovGui = Instance.new("ScreenGui")
    fovGui.Parent = player:WaitForChild("PlayerGui")
    fovGui.Name = "FOVCircleGui"
    fovGui.IgnoreGuiInset = true
    fovGui.ResetOnSpawn = false

    fovCircle = Instance.new("Frame")
    fovCircle.Size = UDim2.new(0, fovSize*2, 0, fovSize*2)
    fovCircle.Position = UDim2.new(0, mouse.X, 0, mouse.Y + yOffset)
    fovCircle.AnchorPoint = Vector2.new(0.5, 0.5)
    fovCircle.BackgroundTransparency = 1
    fovCircle.BorderSizePixel = 0
    fovCircle.Visible = showFovCircle
    fovCircle.Parent = fovGui

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(1,0)
    corner.Parent = fovCircle

    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255,255,255)
    stroke.Thickness = 2
    stroke.Transparency = 0.3
    stroke.Parent = fovCircle
end

local function updateFovCircle()
    if fovCircle and fovGui then
        fovCircle.Size = UDim2.new(0, fovSize*2, 0, fovSize*2)
        fovCircle.Position = UDim2.new(0, mouse.X, 0, mouse.Y + yOffset)
        fovCircle.Visible = showFovCircle
    end
end

-- Aimlock Logic
local function getTargetPart(character, partName)
    if not character then return nil end
    return character:FindFirstChild(partName) or (partName == "Torso" and (character:FindFirstChild("UpperTorso") or character:FindFirstChild("Torso")))
end

local function getAimPosition(part)
    if not part then return nil end
    return part.Position + Vector3.new(0, part.Size.Y * 0.4, 0)   -- à¹€à¸¥à¹‡à¸‡à¹ƒà¸à¸¥à¹‰ à¹† à¸à¸¥à¸²à¸‡-à¸šà¸™
end

local function aimlockFunction()
    if not isAimlockEnabled then return end

    local closest, shortest = nil, fovSize
    local mousePos = Vector2.new(mouse.X, mouse.Y + yOffset)

    for _, p in pairs(Players:GetPlayers()) do
        if p ~= player and p.Character and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
            local part = getTargetPart(p.Character, targetPart)
            if not part then continue end

            local sameTeam = false
            if checkTeam then
                if player.Team and p.Team and player.Team == p.Team then sameTeam = true end
                if player.TeamColor == p.TeamColor then sameTeam = true end
            end
            if sameTeam then continue end

            local worldPos = getAimPosition(part)
            local screenPos, onScreen = camera:WorldToViewportPoint(worldPos)
            local dist = (Vector2.new(screenPos.X, screenPos.Y) - mousePos).Magnitude

            local visible = true
            if checkWalls then
                local rayParams = RaycastParams.new()
                rayParams.FilterDescendantsInstances = {player.Character or {}}
                rayParams.FilterType = Enum.RaycastFilterType.Blacklist
                local result = workspace:Raycast(camera.CFrame.Position, (worldPos - camera.CFrame.Position).Unit * 2000, rayParams)
                if result and not result.Instance:IsDescendantOf(p.Character) then
                    visible = false
                end
            end

            if dist < shortest and onScreen and visible then
                shortest = dist
                closest = p
            end
        end
    end

    if closest then
        local part = getTargetPart(closest.Character, targetPart)
        if part then
            local targetPos = getAimPosition(part)
            local targetCF = CFrame.new(camera.CFrame.Position, targetPos)
            camera.CFrame = camera.CFrame:Lerp(targetCF, aimSpeed)
        end
    end
end

-- ESP Function
local espObjects = {}

local function createESP(plr)
    if espObjects[plr] then return end
    local char = plr.Character
    if not char or not char:FindFirstChild("HumanoidRootPart") then return end

    local box = Instance.new("BoxHandleAdornment")
    box.Adornee = char
    box.Size = char:GetExtentsSize() + Vector3.new(1,2,1)
    box.Color3 = espColor
    box.Transparency = 0.6
    box.AlwaysOnTop = true
    box.ZIndex = 10
    box.Parent = char

    local nameTag = Instance.new("BillboardGui")
    nameTag.Adornee = char:FindFirstChild("Head") or char.HumanoidRootPart
    nameTag.Size = UDim2.new(0,200,0,50)
    nameTag.StudsOffset = Vector3.new(0,3,0)
    nameTag.AlwaysOnTop = true
    nameTag.Parent = char

    local nameLabel = Instance.new("TextLabel", nameTag)
    nameLabel.Size = UDim2.new(1,0,0.4,0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.TextColor3 = Color3.new(1,1,1)
    nameLabel.TextStrokeTransparency = 0.4
    nameLabel.TextStrokeColor3 = Color3.new(0,0,0)
    nameLabel.Font = Enum.Font.SourceSansBold
    nameLabel.TextSize = 14
    nameLabel.Text = plr.Name

    local infoLabel = Instance.new("TextLabel", nameTag)
    infoLabel.Size = UDim2.new(1,0,0.3,0)
    infoLabel.Position = UDim2.new(0,0,0.4,0)
    infoLabel.BackgroundTransparency = 1
    infoLabel.TextColor3 = Color3.new(1,0.9,0.5)
    infoLabel.TextStrokeTransparency = 0.5
    infoLabel.TextStrokeColor3 = Color3.new(0,0,0)
    infoLabel.Font = Enum.Font.SourceSans
    infoLabel.TextSize = 12

    espObjects[plr] = {box = box, nameGui = nameTag, info = infoLabel}
end

local function updateESP()
    if not espEnabled then
        for _, data in pairs(espObjects) do
            if data.box then data.box:Destroy() end
            if data.nameGui then data.nameGui:Destroy() end
        end
        espObjects = {}
        return
    end

    for _, plr in pairs(Players:GetPlayers()) do
        if plr == player or not plr.Character then continue end
        local hum = plr.Character:FindFirstChild("Humanoid")
        if not hum or hum.Health <= 0 then
            if espObjects[plr] then
                if espObjects[plr].box then espObjects[plr].box:Destroy() end
                if espObjects[plr].nameGui then espObjects[plr].nameGui:Destroy() end
                espObjects[plr] = nil
            end
            continue
        end

        if not espObjects[plr] then
            createESP(plr)
        end

        local data = espObjects[plr]
        if data.info and showName or showHealth or showDistance then
            local text = ""
            if showName then text = text .. plr.Name .. "\n" end
            if showHealth then text = text .. "HP: " .. math.floor(hum.Health) .. "/" .. hum.MaxHealth .. "\n" end
            if showDistance then
                local dist = (player.Character and player.Character:FindFirstChild("HumanoidRootPart")) and 
                    (plr.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude or 0
                text = text .. "Dist: " .. math.floor(dist) .. " studs"
            end
            data.info.Text = text
        end
    end
end

-- Button Events
toggleAimlockButton.MouseButton1Click:Connect(function()
    isAimlockEnabled = not isAimlockEnabled
    toggleAimlockButton.Text = isAimlockEnabled and "Disable Aimlock" or "Enable Aimlock"
    
    if isAimlockEnabled then
        fovConnection = RunService.RenderStepped:Connect(updateFovCircle)
        aimlockConnection = RunService.RenderStepped:Connect(aimlockFunction)
        if showFovCircle and not fovCircle then createFovCircle() end
    else
        if fovConnection then fovConnection:Disconnect() fovConnection = nil end
        if aimlockConnection then aimlockConnection:Disconnect() aimlockConnection = nil end
        if fovCircle then fovCircle.Visible = false end
    end
end)

toggleFovButton.MouseButton1Click:Connect(function()
    showFovCircle = not showFovCircle
    toggleFovButton.Text = "Show FOV Circle: " .. (showFovCircle and "On" or "Off")
    if showFovCircle then
        if not fovCircle then createFovCircle() end
        fovCircle.Visible = true
    else
        if fovCircle then fovCircle.Visible = false end
    end
end)

toggleWallCheckButton.MouseButton1Click:Connect(function()
    checkWalls = not checkWalls
    toggleWallCheckButton.Text = "Wall Check: " .. (checkWalls and "On" or "Off")
end)

toggleTeamCheckButton.MouseButton1Click:Connect(function()
    checkTeam = not checkTeam
    toggleTeamCheckButton.Text = "Team Check: " .. (checkTeam and "On" or "Off")
end)

toggleRainbowFOVButton.MouseButton1Click:Connect(function()
    rainbowFOVEnabled = not rainbowFOVEnabled
    toggleRainbowFOVButton.Text = "Rainbow FOV: " .. (rainbowFOVEnabled and "On" or "Off")
end)

toggleRainbowTextButton.MouseButton1Click:Connect(function()
    rainbowTextEnabled = not rainbowTextEnabled
    toggleRainbowTextButton.Text = "Rainbow Text: " .. (rainbowTextEnabled and "On" or "Off")
end)

toggleESPButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    toggleESPButton.Text = "Enable ESP: " .. (espEnabled and "On" or "Off")
end)

-- Sliders
fovSlider.MouseButton1Down:Connect(function()
    local conn = UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            local rel = math.clamp((input.Position.X - fovSlider.AbsolutePosition.X) / fovSlider.AbsoluteSize.X, 0, 1)
            fovSize = math.floor(rel * 200 + 0.5)
            fovSliderIndicator.Size = UDim2.new(rel, 0, 1, 0)
            fovLabel.Text = "FOV Size: " .. fovSize
            updateFovCircle()
        end
    end)
    local endConn; endConn = UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            conn:Disconnect()
            endConn:Disconnect()
        end
    end)
end)

aimSpeedSlider.MouseButton1Down:Connect(function()
    local conn = UserInputService.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement then
            local rel = math.clamp((input.Position.X - aimSpeedSlider.AbsolutePosition.X) / aimSpeedSlider.AbsoluteSize.X, 0, 1)
            aimSpeed = math.round((0.1 + rel * 0.9) * 100) / 100
            aimSpeedSliderIndicator.Size = UDim2.new(rel, 0, 1, 0)
            aimSpeedLabel.Text = "Aim Speed: " .. aimSpeed
        end
    end)
    local endConn; endConn = UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            conn:Disconnect()
            endConn:Disconnect()
        end
    end)
end)

-- Rainbow + ESP loop
RunService.RenderStepped:Connect(function(dt)
    rainbowHue = (rainbowHue + dt * 0.8) % 1

    if rainbowFOVEnabled and fovCircle then
        local stroke = fovCircle:FindFirstChildOfClass("UIStroke")
        if stroke then stroke.Color = Color3.fromHSV(rainbowHue, 1, 1) end
    end

    if rainbowTextEnabled then
        for _, obj in ipairs(frame:GetChildren()) do
            if obj:IsA("TextLabel") or obj:IsA("TextButton") then
                obj.TextColor3 = Color3.fromHSV(rainbowHue, 1, 1)
            end
        end
    end

    if espEnabled then
        updateESP()
    end
end)

-- Toggle GUI with L + LeftAlt
UserInputService.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.L and UserInputService:IsKeyDown(Enum.KeyCode.LeftAlt) then
        screenGui.Enabled = not screenGui.Enabled
        print("Aimlock + ESP GUI:", screenGui.Enabled and "à¹€à¸›à¸´à¸”à¹à¸¥à¹‰à¸§ ðŸŸ¢" or "à¸‹à¹ˆà¸­à¸™à¹à¸¥à¹‰à¸§ ðŸ”´")
    end
end)

print("Aimlock +  Script loaded!")


--[[
by Noxia :discord name"xdct"
à¸­à¸¢à¸²à¸à¸­à¹ˆà¸²à¸™ Dm à¸¡à¸²
]]--
